<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Bannada Daara</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600&family=Montserrat:wght@300;400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Admin Specific Overrides */
        .admin-section {
            padding: 40px 0;
        }

        .admin-card {
            background: var(--bg-card);
            border: 1px solid var(--gray-border);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-col {
            flex: 1;
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
        }

        .product-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            color: var(--white);
        }

        .product-table th,
        .product-table td {
            text-align: left;
            padding: 15px;
            border-bottom: 1px solid #333;
        }

        .product-table th {
            color: var(--gold);
            font-weight: 600;
        }

        .product-table img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 4px;
        }

        .delete-btn {
            background: #B12704;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        .delete-btn:hover {
            background: #d4360e;
        }
    </style>
</head>

<body>

    <header class="navbar">
        <div class="container nav-content">
            <div class="brand">
                <img src="images/logo.png" alt="Bannada Daara Logo" class="dynamic-logo nav-logo">
                <h1 class="main-title">Admin Dashboard</h1>
            </div>
            <div class="nav-right">
                <a href="index.html" class="icon-btn" style="text-decoration:none; color:white; font-weight:600;">
                    <i class="fas fa-home"></i> Back to Shop
                </a>
            </div>
        </div>
    </header>

    <main class="container admin-section">
        <!-- 1. Login Section -->
        <div id="login-section" class="admin-card" style="max-width: 400px; margin: 0 auto; display: none;">
            <div style="text-align: center; margin-bottom: 20px;">
                <i class="fas fa-lock" style="font-size: 2rem; color: var(--gold);"></i>
                <h2 style="color: var(--gold); margin-top: 10px;">Admin Access</h2>
            </div>
            <form id="admin-login-form">
                <div class="form-group">
                    <label for="admin-user" style="color: white; margin-bottom: 8px; display: block;">Username</label>
                    <input type="text" id="admin-user" placeholder="Enter Admin Username" required
                        style="width: 100%; padding: 12px; background: #222; border: 1px solid #444; color: white; border-radius: 6px;">
                </div>
                <div class="form-group">
                    <label for="admin-pass" style="color: white; margin-bottom: 8px; display: block;">Password</label>
                    <input type="password" id="admin-pass" placeholder="Enter Admin Password" required
                        style="width: 100%; padding: 12px; background: #222; border: 1px solid #444; color: white; border-radius: 6px;">
                </div>
                <button type="submit" class="hero-btn" style="width: 100%; margin-top: 15px;">LOGIN</button>
            </form>
        </div>

        <!-- 2. Dashboard Section -->
        <div id="dashboard-section" style="display: none;">

            <!-- ADD PRODUCT FORM -->
            <div class="admin-card">
                <h2
                    style="color: var(--gold); margin-bottom: 25px; border-bottom: 1px solid #333; padding-bottom: 15px;">
                    Add New Product</h2>

                <form id="add-product-form">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="p-name">Product Name</label>
                                <input type="text" id="p-name" placeholder="e.g. Handcrafted Tote" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-row" style="gap: 10px; margin-bottom: 0;">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="p-price">Price (â‚¹)</label>
                                        <input type="number" id="p-price" placeholder="500" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="p-length">Length</label>
                                        <input type="text" id="p-length" placeholder="12\"">
                                    </div>
                                </div>
                                <div class=" form-col">
                                        <div class="form-group">
                                            <label for="p-width">Width</label>
                                            <input type="text" id="p-width" placeholder="10\"">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class=" form-row">
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="p-category">Category</label>
                                                    <select id="p-category"
                                                        style="width: 100%; padding: 12px; background: #222; border: 1px solid #444; color: white; border-radius: 8px;">
                                                        <option value="Bags">Bags</option>
                                                        <option value="Pouches">Pouches</option>
                                                        <option value="Stationery">Stationery</option>
                                                        <option value="Accessories">Accessories</option>
                                                        <option value="Decor">Decor</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label>Product Images (Front, Back, Left, Right)</label>

                                                    <div class="image-upload-grid"
                                                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px;">
                                                        <!-- Front Image -->
                                                        <div class="upload-box-item">
                                                            <label
                                                                style="font-size: 0.8rem; color: #888; display: block; margin-bottom: 5px;">Front
                                                                (Main)</label>
                                                            <input type="file" id="p-image-file-front" accept="image/*"
                                                                style="display: none;"
                                                                onchange="handleImageFileSelect(this, 'front')">
                                                            <button type="button"
                                                                onclick="document.getElementById('p-image-file-front').click()"
                                                                class="upload-trigger-btn" id="btn-front"
                                                                style="width: 100%; padding: 10px; background: rgba(255, 215, 0, 0.05); border: 1px dashed var(--gold); border-radius: 6px; color: var(--gold); cursor: pointer; font-size: 0.8rem;">
                                                                <i class="fas fa-plus"></i> Front
                                                            </button>
                                                            <div id="preview-front" class="img-mini-preview"
                                                                style="display:none; margin-top:5px; position:relative;">
                                                                <img src=""
                                                                    style="width:100%; height:60px; object-fit:cover; border-radius:4px; border:1px solid var(--gold);">
                                                                <span onclick="removeDetailImage('front')"
                                                                    style="position:absolute; top:-5px; right:-5px; background:red; color:white; border-radius:50%; width:18px; height:18px; font-size:10px; display:flex; align-items:center; justify-content:center; cursor:pointer;"><i
                                                                        class="fas fa-times"></i></span>
                                                            </div>
                                                        </div>

                                                        <!-- Back Image -->
                                                        <div class="upload-box-item">
                                                            <label
                                                                style="font-size: 0.8rem; color: #888; display: block; margin-bottom: 5px;">Back
                                                                View</label>
                                                            <input type="file" id="p-image-file-back" accept="image/*"
                                                                style="display: none;"
                                                                onchange="handleImageFileSelect(this, 'back')">
                                                            <button type="button"
                                                                onclick="document.getElementById('p-image-file-back').click()"
                                                                class="upload-trigger-btn" id="btn-back"
                                                                style="width: 100%; padding: 10px; background: rgba(255, 215, 0, 0.05); border: 1px dashed var(--gold); border-radius: 6px; color: var(--gold); cursor: pointer; font-size: 0.8rem;">
                                                                <i class="fas fa-plus"></i> Back
                                                            </button>
                                                            <div id="preview-back" class="img-mini-preview"
                                                                style="display:none; margin-top:5px; position:relative;">
                                                                <img src=""
                                                                    style="width:100%; height:60px; object-fit:cover; border-radius:4px; border:1px solid var(--gold);">
                                                                <span onclick="removeDetailImage('back')"
                                                                    style="position:absolute; top:-5px; right:-5px; background:red; color:white; border-radius:50%; width:18px; height:18px; font-size:10px; display:flex; align-items:center; justify-content:center; cursor:pointer;"><i
                                                                        class="fas fa-times"></i></span>
                                                            </div>
                                                        </div>

                                                        <!-- Left Image -->
                                                        <div class="upload-box-item">
                                                            <label
                                                                style="font-size: 0.8rem; color: #888; display: block; margin-bottom: 5px;">Left
                                                                Side</label>
                                                            <input type="file" id="p-image-file-left" accept="image/*"
                                                                style="display: none;"
                                                                onchange="handleImageFileSelect(this, 'left')">
                                                            <button type="button"
                                                                onclick="document.getElementById('p-image-file-left').click()"
                                                                class="upload-trigger-btn" id="btn-left"
                                                                style="width: 100%; padding: 10px; background: rgba(255, 215, 0, 0.05); border: 1px dashed var(--gold); border-radius: 6px; color: var(--gold); cursor: pointer; font-size: 0.8rem;">
                                                                <i class="fas fa-plus"></i> Left
                                                            </button>
                                                            <div id="preview-left" class="img-mini-preview"
                                                                style="display:none; margin-top:5px; position:relative;">
                                                                <img src=""
                                                                    style="width:100%; height:60px; object-fit:cover; border-radius:4px; border:1px solid var(--gold);">
                                                                <span onclick="removeDetailImage('left')"
                                                                    style="position:absolute; top:-5px; right:-5px; background:red; color:white; border-radius:50%; width:18px; height:18px; font-size:10px; display:flex; align-items:center; justify-content:center; cursor:pointer;"><i
                                                                        class="fas fa-times"></i></span>
                                                            </div>
                                                        </div>

                                                        <!-- Right Image -->
                                                        <div class="upload-box-item">
                                                            <label
                                                                style="font-size: 0.8rem; color: #888; display: block; margin-bottom: 5px;">Right
                                                                Side</label>
                                                            <input type="file" id="p-image-file-right" accept="image/*"
                                                                style="display: none;"
                                                                onchange="handleImageFileSelect(this, 'right')">
                                                            <button type="button"
                                                                onclick="document.getElementById('p-image-file-right').click()"
                                                                class="upload-trigger-btn" id="btn-right"
                                                                style="width: 100%; padding: 10px; background: rgba(255, 215, 0, 0.05); border: 1px dashed var(--gold); border-radius: 6px; color: var(--gold); cursor: pointer; font-size: 0.8rem;">
                                                                <i class="fas fa-plus"></i> Right
                                                            </button>
                                                            <div id="preview-right" class="img-mini-preview"
                                                                style="display:none; margin-top:5px; position:relative;">
                                                                <img src=""
                                                                    style="width:100%; height:60px; object-fit:cover; border-radius:4px; border:1px solid var(--gold);">
                                                                <span onclick="removeDetailImage('right')"
                                                                    style="position:absolute; top:-5px; right:-5px; background:red; color:white; border-radius:50%; width:18px; height:18px; font-size:10px; display:flex; align-items:center; justify-content:center; cursor:pointer;"><i
                                                                        class="fas fa-times"></i></span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Hidden fields to store final image data -->
                                                    <input type="hidden" id="p-image-front" required>
                                                    <input type="hidden" id="p-image-back">
                                                    <input type="hidden" id="p-image-left">
                                                    <input type="hidden" id="p-image-right">

                                                    <p style="font-size: 0.75rem; color: #666; margin-top: 10px;">
                                                        <i class="fas fa-info-circle"></i> Front image is required.
                                                        Others are optional.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="p-desc">Description</label>
                                            <textarea id="p-desc" rows="3"
                                                placeholder="Describe the product..."></textarea>
                                        </div>

                                        <!-- Upload Status Section -->
                                        <div id="upload-status-section"
                                            style="display: none; margin: 20px 0; padding: 20px; background: rgba(255, 215, 0, 0.05); border: 1px solid var(--gold); border-radius: 12px;">
                                            <h3 style="color: var(--gold); margin-bottom: 15px; font-size: 1.1rem;">
                                                <i class="fas fa-cloud-upload-alt"></i> Upload Status
                                            </h3>
                                            <div id="upload-status-content">
                                                <!-- Upload status will be injected here -->
                                            </div>
                                        </div>

                                        <button type="submit" class="hero-btn" style="width: 100%;">ADD PRODUCT</button>
                </form>
            </div>

            <!-- PRODUCT LIST -->
            <div class="admin-card">
                <h2 style="color: var(--gold);">Custom Products Management</h2>
                <p style="color: #888; font-size: 0.9rem; margin-bottom: 20px;">Manage products added manually via this
                    admin panel.</p>

                <div style="overflow-x: auto;">
                    <table class="product-table">
                        <thead>
                            <tr>
                                <th>Image</th>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="admin-product-list">
                            <!-- Custom products rendered here -->
                        </tbody>
                    </table>
                </div>
                <p id="no-products-msg" style="text-align: center; color: #666; padding: 20px; display: none;">No custom
                    products added yet.</p>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container" style="text-align: center; padding: 20px;">
            <p class="copyright">
                &copy; 2025 Bannada Daara Admin Panel
            </p>
        </div>
    </footer>

    <script type="module" src="admin.js"></script>
</body>

</html>